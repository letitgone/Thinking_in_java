# Thinking in java(Fourth Edition)
    thinking in java notes
## Chapter 10: 内部类
1.可以将一个类的定义放在另一个类的定义内部，这就是内部类(内部类与组合是完全不同的概念)。
### 10.1 创建内部类
### 10.2 链接到外部类
1.内部类拥有其外围类的所有元素的访问权。   
2.内部类自动拥有对其外围类所有成员的访问权。
### 10.3 使用.this与.new
1.在拥有外部类对象之前是不可能创建内部类对象的。这是因为内部类对象会暗暗地连接到创建它的外部类对象上，但是，如果你创
建的是嵌套类（静态内部类），那么它就不需要对外部类对象的引用。   
### 10.4 内部类与向上转型
1.private内部类给类的设计者提供了一种途径，通过这种方式可以完全阻止任何依赖于类型的编码，并且完全隐藏了实现的细节。   
2.内部类可以访问外部类的private方法，和private字段,同样，外部类也可以访问其内部类的private元素。
### 10.5 在方法和作用域内的内部类
1.可以在一个方法里面或者任意的作用域内定义内部类：   
1)你实现了某类型的接口，于是可以创建并返回对其的引用；   
2)你要解决一个复杂的问题，想创建一个类来辅助你的解决方案，但是又不希望这个类是公共可用的。
### 10.6 匿名内部类
1.contents()方法将返回值的生成与表示这个返回值的类的定义结合在一起，另外这个类是匿名的。   
2.创建一个继承自Content()的匿名类的对象，通过new表达式返回的引用被自动向上转型为对Contents的引用。   
3.在匿名内部类末尾的分号，并不是用来标记此内部类结束的，而是标记表达式结束，只不过这个表达式恰好包含了匿名内部类。   
4.如果定一个匿名内部类，并且希望它使用一个在其外部定义的对象，那么编译器会要求其参数引用是final的。   
5.对于匿名内部类而言，实例初始化的实际效果就是构造器，当然它受到了限制，你不能重载实例初始化方法，所以你仅有一个这样的
构造器。   
6.匿名内部类与正规的继承相比有些受限，因为匿名内部类既可以扩展，也可以实现接口，但是不能两者兼备，而且如果是实现接口，
也只能实现一个接口。   
### 10.7 嵌套类
1.如果不需要内部类对象与其外部类对象之间的联系，那么可以将内部类声明为static，这通常称为嵌套类，嵌套类可以访问私有成员。   
2.普通的内部类对象隐式地保存了一个引用，指向创建它的外围类对象，然而，当内部类是static的时候，就不是这样了。   
3.嵌套类意味着：   
1）要创建嵌套类的对象，不需要其外围类的对象。   
2）不能从嵌套类的对象中访问非静态的外围类对象。   
3）普通内部类的字段与方法，只能放在类的外部层次上，所以普通的内部类不能有static数据和static字段，也不能包含嵌套类，但是嵌套类
可以包含所有这些东西。   
4.如果你想要创建某些公共代码，使得它们可以被某个接口的所有不同实现所公用，那么使用接口内部的嵌套类会显得很方便。   
5.可以使用嵌套类来放置测试代码。
6.一个内部类被嵌套多少层并不重要，它能透明地访问所有它所嵌入的外围类的所有成员。
### 10.8 为什么需要内部类
1.一般来说，内部类继承自某个类或者实现某个接口，内部类的代码操作创建它的外围类的对象，所以，可以认为内部类提供了某种
进入其外围类的窗口。   
2.内部类最吸引人的原因：每个内部类都能独立地继承自一个（接口的）实现，所以无论外围类是否已经继承了某个（接口的）实现，
对于内部类都没有影响。   
3.内部类使得多重继承的解决方案变得完整，接口解决了部分问题，而内部类有效地实现了"多重继承"，也就是说，内部类允许继承
多个非接口类型（类或者抽象类）。
4.内部类的特性：   
1)内部类可以有多个实例，每个实例都有自己的状态信息，并且与其外围类对象的信息相互独立；   
2)在单个外围类中，可以让多个内部类以不同的方式实现同一个接口，或继承同一个类；   
3)创建内部类对象的时刻并不依赖于外围类对象的创建；   
4)内部类并没有让人迷惑的"is-a"关系，它就是一个独立的实体。   
5.闭包（closure）是一个可调用的对象，它记录了一些信息，这些信息来自于创建它的作用域。通过这个定义可以看到，内部类是
面向对象的闭包，因为它不仅包含外围类对象（创建内部类的作用域）的信息，还自动拥有一个指向此外围类对象的引用，在此作用域
内，内部类有权操作所有的成员，包括private成员。   
6.通过内部类提供的闭包功能是优良的解决方案，它比指针更灵活，更安全。（Java中没有指针）   
7.回调的价值在于它的灵活性，可以在运行时动态地决定需要调用什么方法。   
8.应用程序框架(application framework)就是被设计用以解决某类特定问题的一个类或一组类。   
9.设计模式总是将变化的事物与保持不变的事物分离开。   
10.内部类允许：1）控制框架的完整实现是由单个的类创建的，从而使得实现的细节别封装了起来；2）内部类能够很容易的访问外
围类的任意成员，所以可以避免这种实现变得笨拙。   
### 10.9 内部类的继承
1.内部类的构造器必须连接到指向其外围类对象的引用。   
### 10.10 内部类可以被覆盖吗
### 10.11 局部内部类
1.使用局部内部类的原因：1）我们需要一个已命名的构造器，或者需要重载构造器，而匿名内部类只能用于实例初始化；2）我们需要
不止一个改内部类对象。
### 10.12 内部类标识符
